CREATE TABLE [dbo].[Tab_Categoria] (
    [Idf_Categoria] [uniqueidentifier] NOT NULL,
    [Des_Titulo_Categoria] [varchar](75) NOT NULL,
    [Des_Categoria] [varchar](400),
    CONSTRAINT [PK_dbo.Tab_Categoria] PRIMARY KEY ([Idf_Categoria])
)
CREATE TABLE [dbo].[Tab_Usuario] (
    [Idf_Usuario] [uniqueidentifier] NOT NULL,
    [Nme_Usuario] [varchar](100) NOT NULL,
    [Num_Cpf] [varchar](11) NOT NULL,
    [Des_Senha] [varchar](100) NOT NULL,
    [Des_Senha_Hash] [varchar](100) NOT NULL,
    [Dta_Nascimento] [datetime] NOT NULL,
    [Dta_Criacao] [datetime] NOT NULL,
    [Dta_Alteracao] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Usuario] PRIMARY KEY ([Idf_Usuario])
)
CREATE TABLE [dbo].[Tab_Contato] (
    [Idf_Contato] [uniqueidentifier] NOT NULL,
    [Des_Eml_Contato] [varchar](254),
    [Dta_Cadastro] [datetime] NOT NULL,
    [Dta_Ultima_Alteracao] [datetime] NOT NULL,
    [Idf_Usuario] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Contato] PRIMARY KEY ([Idf_Contato])
)
CREATE TABLE [dbo].[Tab_Endereco] (
    [Idf_Endereco] [uniqueidentifier] NOT NULL,
    [Nme_Endereco] [varchar](100),
    [Des_Logradouro] [varchar](100) NOT NULL,
    [Des_Numero] [varchar](100),
    [Des_Complemento] [varchar](256),
    [Des_Bairro] [varchar](100),
    [Num_Cep] [varchar](100),
    [Des_Cidade] [varchar](75) NOT NULL,
    [Des_Estado] [varchar](2),
    [Dta_Cadastro] [datetime] NOT NULL,
    [Dta_Alteracao] [datetime] NOT NULL,
    [Idf_Contato] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Endereco] PRIMARY KEY ([Idf_Endereco])
)
CREATE TABLE [dbo].[Tab_Telefone] (
    [Idf_Telefone] [uniqueidentifier] NOT NULL,
    [Num_DDD] [varchar](100) NOT NULL,
    [Num_Telefone] [varchar](100),
    [Dta_Cadastro] [datetime] NOT NULL,
    [Idf_Contato] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Telefone] PRIMARY KEY ([Idf_Telefone])
)
CREATE TABLE [dbo].[Tab_Usuario_Categoria] (
    [Categoria_Idf_Categoria] [uniqueidentifier] NOT NULL,
    [Usuario_Idf_Usuario] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Usuario_Categoria] PRIMARY KEY ([Categoria_Idf_Categoria], [Usuario_Idf_Usuario])
)
CREATE UNIQUE INDEX [IX_Num_Cpf] ON [dbo].[Tab_Usuario]([Num_Cpf])
CREATE INDEX [IX_Idf_Usuario] ON [dbo].[Tab_Contato]([Idf_Usuario])
CREATE INDEX [IX_Idf_Contato] ON [dbo].[Tab_Endereco]([Idf_Contato])
CREATE INDEX [IX_Idf_Contato] ON [dbo].[Tab_Telefone]([Idf_Contato])
CREATE INDEX [IX_Categoria_Idf_Categoria] ON [dbo].[Tab_Usuario_Categoria]([Categoria_Idf_Categoria])
CREATE INDEX [IX_Usuario_Idf_Usuario] ON [dbo].[Tab_Usuario_Categoria]([Usuario_Idf_Usuario])
ALTER TABLE [dbo].[Tab_Contato] ADD CONSTRAINT [FK_dbo.Tab_Contato_dbo.Tab_Usuario_Idf_Usuario] FOREIGN KEY ([Idf_Usuario]) REFERENCES [dbo].[Tab_Usuario] ([Idf_Usuario])
ALTER TABLE [dbo].[Tab_Endereco] ADD CONSTRAINT [FK_dbo.Tab_Endereco_dbo.Tab_Contato_Idf_Contato] FOREIGN KEY ([Idf_Contato]) REFERENCES [dbo].[Tab_Contato] ([Idf_Contato])
ALTER TABLE [dbo].[Tab_Telefone] ADD CONSTRAINT [FK_dbo.Tab_Telefone_dbo.Tab_Contato_Idf_Contato] FOREIGN KEY ([Idf_Contato]) REFERENCES [dbo].[Tab_Contato] ([Idf_Contato])
ALTER TABLE [dbo].[Tab_Usuario_Categoria] ADD CONSTRAINT [FK_dbo.Tab_Usuario_Categoria_dbo.Tab_Categoria_Categoria_Idf_Categoria] FOREIGN KEY ([Categoria_Idf_Categoria]) REFERENCES [dbo].[Tab_Categoria] ([Idf_Categoria])
ALTER TABLE [dbo].[Tab_Usuario_Categoria] ADD CONSTRAINT [FK_dbo.Tab_Usuario_Categoria_dbo.Tab_Usuario_Usuario_Idf_Usuario] FOREIGN KEY ([Usuario_Idf_Usuario]) REFERENCES [dbo].[Tab_Usuario] ([Idf_Usuario])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201707182328000_AutomaticMigration', N'SM.Infrastructure.Data.Migrations.Configuration',  0x1F8B0800000000000400D55CCD6EE33812BE2FB0EF20E8B8C8584ECFEF06F60C7A9C6426D84E32683B83BD058C443BC2EAC723524182C53CD91EF691F6159692254A22593229B1A3047DE988E4C762B158552C56F97FFFF9EFE2A7E738729E7046C23459BAA7B3B9EBE0C44F8330D92DDD9C6EBFFAC1FDE9C7BFFE657111C4CFCEEF75BFAF8B7E6C644296EE23A5FB33CF23FE238E1199C5A19FA524DDD2999FC61E0A52EFC37CFE77EFF4D4C30CC265588EB3F89C27348C71F907FB7395263EDED31C45D7698023527D672DEB12D5B94131267BE4E3A5BBBE9E5D25DB0C119AE53ECD333C3B4714CD1804C5CFD4753E46216254AD71B4751D9424294594D17C7647F09A6669B25BEFD907146D5EF698F5DBA288E06A2D674D77DD65CD3F14CBF29A8135949F139AC68680A75F577CF2C4E183B8ED723E324E5E308ED39762D5253797EE0A51BC4BB310B98E38DBD92ACA8A9E25B7CF594B98CCCAF12126333EEEC4E1AD275C34980415FF4E9C551E15BBB34C704E33149D38BFE50F51E8FF03BF6CD27FE16499E451D4269091C8DA3A1FD8A7DFB2748F33FAF2196F2BB2AF82ED7D8B74AF0BE189181C413DFCB0CA5FF230709D1B46117A8830170AAF17E91C93FB4D48F328950199A4B103E43AD7E8F9134E76F471E97EFFADEB5C86CF38A83F5493DC25213B6E6C0C93673C88089DD9BF99CFB5A61766BB414FE1AE140961DE3B92A32C4C89EB7CC651D9813C86FBC3B16B24E4BEE97699A5F1E7346ACB1D6FBD5FA779E6B3D93729D86583B21DA65D02175E23D4BDA25EA1180A7A356A3A31E7640F11723E788488DFC458C451C8D6A9A66C994E9EC7F7ABFDB66FE25361DEC33CE34FD41A278F7DA7E90BAD984F7DFF2B228F13CC4FD1FD0D223EB3CC09E53BCECC2BDEB04F83E056EC10FBC80ED6C788E26C181AA8C7B8A6B1A4C96A35D5A3C96A65374893156E0EA2A69AAC1A35A1C1AEC91E64AEEBC1238DF5451C89588AB3F5E1DB6F86584A95ECA3A0F052ED08FF5DC41CE65167C0968D00CFD24512E00CFB805350B7365BD01C24B14D3A465207D521EAA36D8323BC4D13ACA6AD6E55D126B649B4491D4C69E3BBA052401526EFD3D23EDD26D98912DA477950F506182A9E7AD8749AA7217C88EA69468FF4A244A01146FDB8A2FB94EE327615CCB309BCB6627EE6B9612B736BDC7DD2781FE18EBFA2D4E9DF599AEF671466AFB0B4D2F7C5FBD7616118A0004F7273BD2094C969DFC6BD45536CD7060FF26E607FB6461B6B81456B029AE841E6A4B69986E6A41E369D3969081F624E9AD163CC09D30DE7E7E7D35CC8C5157C39CD64F3D4BEEE3933F226C57306BA9B3AE7EC2321A91F96F488F7DBE602DB5D213BD7CEF1B8DC61AF3B3762B6E7EC9C857B76B218254BF76F12F37AA1B917DD40731FB71778E1B556D9BF7849E141F4C1DAAFA1AEF1E0F4D70DDF6B5A0CAD85A40B7B2AC13245C4C092E2ED828D61E782693F2A6BAD30F1C33D8A8E50208C33BDB817DBC0A7125BCEF11EB369137A84BB1668E05309CAF818AF0C84483ACDD066C347BBD9EC467DEA0B117C017D2D218228784D2182B8FB3E8448BCC6838A12BAD31FDDEA5EF50B44028EEB5E4B020410A0BB77C03B8891FC009CB5408275F139D8F692E030C15945C51A27E83AA529E12FDD92EB7C4770E53D93CAC91225A2005E635AAB36F4D07E3C6C7C0AD9D64BB2252371164938D03B96929E5ABC656A8018B20AA531D6120C181052E134FA5AC2016F02AD5D6DC0540F09AD8EF07383286E5AFE1A5F8AB4C792F86A3969021EF82ED95DBA065BE42BA9CC947E2F4ECF8F131600C9809EF32672177ADB30E6867C7190B9D1EF8EE83924C2022049D6F342BE1837A4D0B7E2BCF499552DC3AA47BD96351D7D48EA5B1DD7FCBC6DE11DF2A0AA0F0B0F48985A5CA3FD9EDDC75B0954D517677DC89E5A7DB5364F258A0F189E4F1419459C5A3E134D33B4C3426BC1B7005F8619A145BED6032A6EDBAB2096BA49760ED0D2F5742A53266F5EADBCEB51C5FF2BBBDA9B4F3603411BDE5EB2E51611E872E5B825063D639D22B50D4528EB4F4F5AA5511E271A894F7D98EA44A536B4BA87D90C3DD0BD980B4F60A3E46049BB271C285124B40506561B83C50580D4101670649FA87025230A0AE8AFC2789D649F365EA7C100AFCEDFE960D51FCD84AB4AC81105ABFA3C00ABCAB05102566D06A842DE4C0755683343E5E93322246F30C36B3D5D8888ADA6377548613F67B84E5743EA68746864AF3EAF9D0A499B43DE46CF268A792CA204771A0D858D87DB2569E32D668872D28A882CF7D09F61A8029C5098F9C5C3A23443981AE20C0FEDE379737B12990EDFAB60C46E7684687786208A2910E21169B799A1D6890D2262FDDDD0636AE72E483E53BBD10CB7CE511021EBEF8626BC4843904C78F1D170B5559A81B4D0EABBA10EAC320724F5577D9F5AF30D35B4B6EDC884BA8E87152CEA3A085343D7C143FB78DEC44644A6C3511318913FDD8BE7A9FC6886A3A6ACDB32E52978AB12DB0DBF74C55615A5358F14B4068311819E881594A12E857965D69986141AEC23C18582A99CB04134834F3E66AE5D1D743BF22603512B46DF640991827062172E9F3C182704DD165500EC7829A314113B74711D46FB531894D1B01742717C10B4F51FD12A0AD989683A5CA324DC62420F894DEE87F9FC07A102F2ED54237A8404912280A82C49ECEEDA6485817912FE91E3B078DD0BB721CEAC16093EA1CC7F4499946B69A30450855DD60036E0721696713DDDC05DB259D7367A8714356E2AE69D769937A4828DC34A0FB757EC96F3BC74FFED5C91BB723D67CE86ED8EF3A754EE36B698CDD6D2D4A56AD6D09585680113726AA9106D14969400AC89665CE535540B5AACB6B2A2011595572A51294BAFFA1414B0B5429AE8A8BD85EAAC06836AE92C5823142067CED53FDB1ECF89739B31E37FE6CC0B0D6147E4D4A1A0A9EA6CAC68751154433B0DAFB0B1A958BBF53316C95654CBA8CFE17743D0BBB53196C8162A616C32A353F762D119EB56B528193CB99AB3ABDF8EDA0C4DFDC6EB94EDEB3775F867AAC28FF1FAAD5B0462D3631569B575E46C8AF03B11BAFE708F9EF0E9C768E4B11AD192E3F20B123082EF00A6C11EC8742A173B8246059E0519D129D15106F854999A7A95397212B7024AFC99970EA25E658E33343BBC27C5CA30CCE318A5841F09C68E3C8EAF5257A017686D6DB86A9FB593FFDF96DC986C9BB532822132A319B47E0579D1AE88137F27C5A8C848CEA11E584937A6D8649212B777528EA45DD366490CA4AA61B35AB87723063DCFD36F510C74ABD26CD90C7D617ACF16C250EEA6AF2C9313F3C51DEC164669968C1D1E33D925EFA1D8F283A3DC5B8D244DA45151064DA25B72A6516E06AE43B31E4DAB160D9A44BF5A4DA7520D9A050C6E805B0F6F8DDCE5C81EF5088466291DAFE6D1A9A803B227D4D72B65318756119DC02075F687852229B8684F8B19EAB40C95EE57942ABC254658AE2414F44227F95BA768B033107E1B99BA4470E832456DD3CDB07B63B57F8345589F3976AAFAE4C42166EB5BBF94CE7C0D12EE1A88E277D313EC77AC3CEF73956CD3DAE31028AABB0801B46B4C51C05C808F190DB7C8A7ACD9C78494BFEFF33B8AF242BCE3071C5C25B739DDE7942D19C70FD14B9B1985D3D2377F59BAD8A57971BB2F7F40C7C6121899611154BE4D7ECEC328E0745F2A02740044E10DFD82D9F7C35E32E78AE9AA178E742309380454B18F3B711B1CEF2306466E93357AC24368BB23F813DE21FFA5CEFF82418E6F4497ED8BF310ED3214930AA319CFFE64321CC4CF3FFE1FF96192A930600000 , N'6.1.3-40302')

