CREATE TABLE [dbo].[Tab_Categoria] (
    [Idf_Categoria] [uniqueidentifier] NOT NULL,
    [Des_Titulo_Categoria] [varchar](75) NOT NULL,
    [Des_Categoria] [varchar](400),
    CONSTRAINT [PK_dbo.Tab_Categoria] PRIMARY KEY ([Idf_Categoria])
)
CREATE TABLE [dbo].[Tab_Usuario] (
    [Idf_Usuario] [uniqueidentifier] NOT NULL,
    [Nme_Usuario] [varchar](100) NOT NULL,
    [Num_Cpf] [varchar](11) NOT NULL,
    [Des_Senha] [varchar](100) NOT NULL,
    [Des_Senha_Hash] [varchar](100) NOT NULL,
    [Dta_Nascimento] [datetime] NOT NULL,
    [Dta_Criacao] [datetime] NOT NULL,
    [Dta_Alteracao] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Usuario] PRIMARY KEY ([Idf_Usuario])
)
CREATE TABLE [dbo].[Tab_Contato] (
    [Idf_Contato] [uniqueidentifier] NOT NULL,
    [Des_Eml_Contato] [varchar](254),
    [Dta_Cadastro] [datetime] NOT NULL,
    [Dta_Ultima_Alteracao] [datetime] NOT NULL,
    [Idf_Usuario] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Contato] PRIMARY KEY ([Idf_Contato])
)
CREATE TABLE [dbo].[Tab_Endereco] (
    [Idf_Endereco] [uniqueidentifier] NOT NULL,
    [Nme_Endereco] [varchar](100),
    [Des_Logradouro] [varchar](100) NOT NULL,
    [Des_Numero] [varchar](100),
    [Des_Complemento] [varchar](256),
    [Des_Bairro] [varchar](100),
    [Num_Cep] [varchar](100),
    [Des_Cidade] [varchar](75) NOT NULL,
    [Des_Estado] [varchar](2),
    [Dta_Cadastro] [datetime] NOT NULL,
    [Dta_Alteracao] [datetime] NOT NULL,
    [Idf_Contato] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Endereco] PRIMARY KEY ([Idf_Endereco])
)
CREATE TABLE [dbo].[Tab_Telefone] (
    [Idf_Telefone] [uniqueidentifier] NOT NULL,
    [Num_DDD] [varchar](100) NOT NULL,
    [Num_Telefone] [varchar](100),
    [Dta_Cadastro] [datetime] NOT NULL,
    [Idf_Contato] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Telefone] PRIMARY KEY ([Idf_Telefone])
)
CREATE TABLE [dbo].[Tab_Usuario_Categoria] (
    [Usuario_Idf_Usuario] [uniqueidentifier] NOT NULL,
    [Categoria_Idf_Categoria] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Tab_Usuario_Categoria] PRIMARY KEY ([Usuario_Idf_Usuario], [Categoria_Idf_Categoria])
)
CREATE UNIQUE INDEX [IX_Num_Cpf] ON [dbo].[Tab_Usuario]([Num_Cpf])
CREATE INDEX [IX_Idf_Usuario] ON [dbo].[Tab_Contato]([Idf_Usuario])
CREATE INDEX [IX_Idf_Contato] ON [dbo].[Tab_Endereco]([Idf_Contato])
CREATE INDEX [IX_Idf_Contato] ON [dbo].[Tab_Telefone]([Idf_Contato])
CREATE INDEX [IX_Usuario_Idf_Usuario] ON [dbo].[Tab_Usuario_Categoria]([Usuario_Idf_Usuario])
CREATE INDEX [IX_Categoria_Idf_Categoria] ON [dbo].[Tab_Usuario_Categoria]([Categoria_Idf_Categoria])
ALTER TABLE [dbo].[Tab_Contato] ADD CONSTRAINT [FK_dbo.Tab_Contato_dbo.Tab_Usuario_Idf_Usuario] FOREIGN KEY ([Idf_Usuario]) REFERENCES [dbo].[Tab_Usuario] ([Idf_Usuario])
ALTER TABLE [dbo].[Tab_Endereco] ADD CONSTRAINT [FK_dbo.Tab_Endereco_dbo.Tab_Contato_Idf_Contato] FOREIGN KEY ([Idf_Contato]) REFERENCES [dbo].[Tab_Contato] ([Idf_Contato])
ALTER TABLE [dbo].[Tab_Telefone] ADD CONSTRAINT [FK_dbo.Tab_Telefone_dbo.Tab_Contato_Idf_Contato] FOREIGN KEY ([Idf_Contato]) REFERENCES [dbo].[Tab_Contato] ([Idf_Contato])
ALTER TABLE [dbo].[Tab_Usuario_Categoria] ADD CONSTRAINT [FK_dbo.Tab_Usuario_Categoria_dbo.Tab_Usuario_Usuario_Idf_Usuario] FOREIGN KEY ([Usuario_Idf_Usuario]) REFERENCES [dbo].[Tab_Usuario] ([Idf_Usuario])
ALTER TABLE [dbo].[Tab_Usuario_Categoria] ADD CONSTRAINT [FK_dbo.Tab_Usuario_Categoria_dbo.Tab_Categoria_Categoria_Idf_Categoria] FOREIGN KEY ([Categoria_Idf_Categoria]) REFERENCES [dbo].[Tab_Categoria] ([Idf_Categoria])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201707182321435_AutomaticMigration', N'SM.Infrastructure.Data.Migrations.Configuration',  0x1F8B0800000000000400D55C5B6FEB36127E2FB0FF41D0E322B59DD3EB06768B532769839E24C57152EC5BC048B44354B78A5490A0E82FDB87FD49FB179692254AE2CDA4C44409CECB092F1F87C3E1CC7034E3FFFDE7BFCB1F9FE2C87B84394669B2F28F670BDF8349908628D9ADFC826CBFFCDEFFF1877F7CB13C0BE327EFF766DC57E5383A33C12BFF8190EC643EC7C1038C019EC528C8539C6EC92C48E33908D3F987C5E25FF3E3E339A4103EC5F2BCE5E722212886D51FF4CF759A04302305882ED31046B86EA73D9B0AD5BB0231C41908E0CADF5CCE2E926D0E30C98B8014399C9D0202661482C027E27B1F230428551B186D7D0F24494A00A1349FDC62B821799AEC36196D00D1CD7306E9B82D8830ACF772D20E37DDD6E243B9AD793BB1810A0A4CD2D812F0F8AB9A4F737EFA206EFB8C8F94936794E3E4B9DC75C5CD95BF0604EED21C01DFE3573B59477939B2E2F629ED41C9AC9A8F209EB179471EEB3D62A24125A8FC77E4AD8BA83C9D55020B9283E8C8FBADB88F50F02B7CBE49FF80C92A29A2A84B202591F6F51A68D36F799AC19C3C7F86DB9AEC8B707BD7217DDE8798F3180C413E7DBFCB9F0B14FADE15A508DC479009C55C8B740AF1DD0D2245948A8054D2E805F2BD4BF0F409263BF2B0F2BFFBC6F7CED1130C9B867A91DB04D1EB46E750798683883059FDEBC5C268796EB52BF08876954870EBDEE202E428C5BEF71946D500FC80B2FDB59BD59D2D6174D8799EC69FD3A89DDAE9BDBB01F90ED2BB7B932A876CD2220F380297F356A8B5A25EE3590A7A3D6B3A3167640F1172367984885FC590C791C8D6B1A16CD92E5EC477EB6CAB5BF8985B77BFCEF81BB581C983EE36BDD08ED9D277BF00FC30C1FA04DC5D011C50CB9C1076E2D4BCC21BDA34086E4D2F6F00DC607D8C08CC87A129F5585745B9D0648D9AD268B246D90DD264A59B0388AD26AB674D68B01BB20799EB66F248637D16473C96E46E7DF8E6EB21965226FB202CBD5437C27F1B518779D41D7065239477E92C09610E038553D0F4B647D05E24BE4F7008840132774047DB0D8CE0364DA09CB6A657461BDF27D0260CB0A58D9D8284B206938D6909E3BA04D5C3F78FD23BCD01582A9E66DA749AA7257C88EA69678FF4A278A01146FDB0A2FB94EE72FA142CF209BCB6727DEAB941276B1BBC7DD2388B60CF5F91EAF46F1DADF71340F92B6CADF27D61F63A2C442108E1242FD7334CA89CEA0EEE2D9A62B736789077A3F6671BB4B11698B7264A133DC89C3436D3D29C34D3A633272DE143CC493B7B8C39A1BAE1F4F4749A0739BF8397D34C2E6FEDEBDE332B6F92BF674A77D3E49E7DC4380D50454FDFB7EC3E60FB3BA4F7DA3BFC9ADD9F75E7454C4F9CDE3294D17B45E958F9FF1458A705663E740BDC89626AA197F3CE2EF59B17149E8A42B5F66BE96B3D38F39DABDF359D7D3742D2873D1660A922A26049F9ED82CEA1F7826A3F226A2D94042803D1010AB879B60FF7F218D8527CCF29CC205D362107B8EB8006B614A78C0FF1CA428884DBAC3A6CF5D56E0FBB559FE642A47E80BE9610A928784D215271F77D0811FF8C579DB5F24D7FF0A87512A48A041C56EB8E04484180E9D929BE8358C98F82B30E48702E3E7BDB5E118C1298D7546C60022E539262F6A55B709D6F31ACBD675C3B59BC4494C01B481AD506EEBB1F0F5B9F4234C9826C89488C45028EEA3B96949E46BC456A143164194A6BAC051865404886D3EA6B0147F912E89C6A0B26FB90D019A8FEDCC08B9B91BFC6B6C29D8C20BC464E1A87A6F9F8DEDFBA015BC427A9C814BD1767E6C7715B50C98099F3C6F343F56DC39A1BE2C341E486DE1D317348B80DA824D9CC0B79316E08A16F91195AB36A6458CDA837B2A666974EC388E655C7343FEB5BCEF7795075C372AE48985A5E822CA3EFF14E0255DDE26DF6D953EB2F37F6A944F11E631E60494611A396AD44D21CEC20D75BF22D84E728C7A4CCD7BA07E56B7B1DC6C230C1CE29B474B39CCC948987D728EF6656F9FFDAAE6AF3C9664AD096B7E774BB6504BADA39EC888166AE57A6B68108E4FAF4A4751A15716290F8A4C394272A75A1E523EC56D0406B3197738E8D8283259C1E77A17891301618B5DA182C2E0A48036151CED4890A5332BCA0284DBE1AAF97ECD3C5EB7558E035F93B3DACA6D14EB8EA841C5EB0EAE6015875868D14B0EEB340E5F2667AA85C9F1D2A4B9FE12159871D5EE7D3058FD8E97A539754EDE70CD7E97248138DAE9AA9D5E78D5321687395B7A139443E8F8597E05EA7A5B0B170BB206DACC70E514C5AE191C511E62B0C5580130A337B7838946615A68138ABA7EA78DEBE9E78A6ABDF556AC47E76046F778620F22910FC15E9F6D9A136890D3C62D36EE931757317049FA9DB6987DBE428F0904DBBA5092FD31004135E365AEEB64E3310365AB75BEAC03A7340507F75FBD49A6FA8A1756D4726D4752CACE050D7A9300D749D7AAA8EE76D6C8467BA3A6AA246649FEEF9FB5435DAE1C829EBF74C790BDEAAC4F6C32F7DB19545696D9F7EBDC98A479E2E5211CAB34325615E9175766E52837CE0FB4687A441D42A3FF6D8064058F3DD8150889A663EFA264A881084E38730F964C1382EE8B6AC0360874B198588D87E88EF51DA1F515845C39E3181F15ED0367F46EB08D11BD10EB80409DA424CF6894DFE87C5E27BAE02F2ED5423CE310E234900515A92D83FB5C90A038B04FD5940547EDD435B0473A745828F200F1E402EE45ABA280194615735802DB89885655D4F37F0945CD6B58D3E21498D9B8C79C77DE60DA96063B0C287DB0BFACA795AF97F7917F8B6DACF8977434FC7FB5B28771B5BCCE66A6BF2523567E8D242B4900A39715488360A4B48003644B3AEF21AAA051D565B39D18092CA2B99A854A5573A05A5385A2E4D74D4D9AAEAAC06831AE92CB54628414EBC8B7F77BDB423EF3AA7C6FFC45B941AC28DC8C9434153D5D938D1EA3CA881761A5E61E352B1F6EB671C922DA99691DFC36F87A0F76B631C91CD55C2B86446AFEEC5A133D6AF6A9132787235E756BF1DB41986FA8DD529BBD76FF2F0CF54851FE3F55BBF08C4A5C7CAD3EAEACAB914E1772274FA708F99F0994569C47986D192C3F22B256004CF257816BC17E9536E74048D0A4C07326252A2230DF089B99AC312B80518F1E7833A78A65539DEC0CC7075BECCCBA5821F0AC28EB886AF514B601862ED662C4A4F5879B46F5D66EC0EEE60ACF865E5C62268FD0AB2635C11C7FF4E8A55919198433DB0926E4CB1C924256EEFA41CC9B8A6CD91180855C376B570EF460C349FA7DFA2189856A539F2372C84E91D7B17B672377D65999898CF9F60BF30CAB0646CFF31933EF2EECB23DF3BCAFAFA217E21838A32D522A6256706E566CA7D18D6A319D5A2A91631AF5633A95453ADA20C6E284E442701E2900367A41108C3523A56CD635251A7C89E90A93B4976BE41099DC01C79E6C7F802294DC99E1123E48919F27783B4AAE52D31C3712521A7177AC9DF264583BD89EA6F235397080EDD26AF6DFA19766FACF66FE87DB6608E9BAA3E317188DAFACE2FA5535F03A35D0B51FE6E7A02839E9567632E926DDA781C1C45CD102E9076090908A90BF03127680B0242BB038871F5FB3EBF83A828C53BBE87E145725D90AC2074CB30BE8F9EBBCC289D16DDFA55E9629FE6E57556FD808E8B2D5032511954BE4E7E2A501432BACF25013A0544E90DFD0C69FBFE2CA9734595D43343BA12045C0554B38F39713730CE220A86AF930D78844368BBC5F013DC81E0B9C9FF52831C3E883EDB97A708EC7210E31AA39D4FFFA4321CC64F3FFC1FCD78872830600000 , N'6.1.3-40302')

